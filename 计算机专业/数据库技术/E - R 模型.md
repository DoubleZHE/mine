## E - R 模型

### 1. E - R 图

1. 实体型用矩形表示，框内写明实体名
2. 属性型用椭圆形表示，框内写明属性
3. 联系用菱形表示，框内写明联系名，并在无向边标明类 **（1, N, M）**

### 2. 实体之间的联系

#### 两个实体型之间的联系

1. 一对一联系**（1:1）** 

   例如：一个班级只有一个班主任，一个班主任管理一个班级

![image-20211208160118295](https://gitee.com/DoubleZHEz/note-image-repository/raw/master/image-20211208160118295.png)

2. 一对多 **（1:N）** 

   例如：一个班级有很多学生，每个学生都属于这个班级

![image-20211208160350945](https://gitee.com/DoubleZHEz/note-image-repository/raw/master/image-20211208160350945.png)

3. 多对多联系 **（N:M）** 

   例如：一门课有很多学生听，每个学生需要听很多门课

   ![image-20211208175308904](https://gitee.com/DoubleZHEz/note-image-repository/raw/master/image-20211208175308904.png)

#### 两个以上的实体型之间的联系

以三个实体型为例：

1. 一对多 **（1:N:M）** 

   课程、教师、参考书。

   一门课可以有很多老师讲授，但一个老师只能讲授一门课；一门课程可以使用若干本参考书，但每本参考书只供一门课使用。

   则称：课程与老师、参考书之间的联系是一对多。

   ![image-20211208161747377](https://gitee.com/DoubleZHEz/note-image-repository/raw/master/image-20211208161747377.png)

2. 多对多 **（N:M:P）** 

   供应商、项目、零件。

   一个供应商可以供给多个项目，每个项目可以用多个供应商；一个供应商可以供应多个零件，一个零件可以有多个供应商供应。

   则称：供应商、项目、零件三者之间是多对多的联系。

   ![image-20211208174938931](https://gitee.com/DoubleZHEz/note-image-repository/raw/master/image-20211208174938931.png)

3. **（1:N:M）**

4. **（1:1:N）**

5. **（1:1:1）**

#### 单个实体型内的联系

1. 一对多 **（1:N）**

   班长（学生）管理很多学生

![image-20211208180222715](https://gitee.com/DoubleZHEz/note-image-repository/raw/master/image-20211208180222715.png)

2. 多对多 **（N:M）**

   一门课的课代表（学生）管理很多学生，每个学生可以被多个课代表管理。

![image-20211208180520305](https://gitee.com/DoubleZHEz/note-image-repository/raw/master/image-20211208180520305.png)

### 3. 例题

实体之间的属性有：

- 仓库：仓库号、面积、电话号码；

- 零件：零件号、名称、规格、单价、描述；

- 供应商：供应商号、姓名、地址、电话号码、账号；

- 项目：项目号、预算、开工日期；

- 职工：职工号、姓名、年龄、职称；

实体之间的联系：

- 一个仓库可以存放多种零件，一种零件可以存放在多个仓库中，因此仓库和零件具有多对多的联系。用库存量来表示某种零件在某个仓库中的数量
- 一个仓库有多个职工当仓库保管员，一个职工只能在一个仓库工作，因此仓库和职工之间是一对多的联系
- 职工之间具有领导与被领导关系，即仓库主任领导若干保管员，因此职工实体型中具有一对多的联系
- 供应商、项目和零件三者之间具有多对多的联系，即一个供应商可以供给若干项目多种零件，每个项目可以使用不同的供应商供应的零件，每种零件可由不同供应商供给